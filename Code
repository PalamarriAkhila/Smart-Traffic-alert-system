#include <WiFi.h>
#include <WebServer.h>

// Wi-Fi credentials
const char* ssid = "Realme 9 Pro";
const char* password = "chandu06";

// Ultrasonic pins
const int trigPin = 13;
const int echoPin = 12;

long duration;
float distance;
String status = "Normal";

WebServer server(80);

void setup() {
  Serial.begin(115200);
  pinMode(trigPin, OUTPUT);
  pinMode(echoPin, INPUT);

  // Connect to Wi-Fi
  WiFi.begin(ssid, password);
  Serial.print("Connecting to WiFi");
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }

  Serial.println("\nConnected to WiFi");
  Serial.print("ESP32 IP Address: ");
  Serial.println(WiFi.localIP());

  server.on("/", handleRoot);
  server.begin();
  Serial.println("Server started");
}

void loop() {
  measureDistance();
  server.handleClient();
}

void measureDistance() {
  digitalWrite(trigPin, LOW);
  delayMicroseconds(2);
  digitalWrite(trigPin, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigPin, LOW);

  duration = pulseIn(echoPin, HIGH);
  distance = duration * 0.034 / 2;
  Serial.print("Distance: ");
  Serial.println(distance);

  status = (distance < 10) ? "Emergency" : "Normal";
  delay(4000);
}

void handleRoot() {
  String html = "<!DOCTYPE html><html><head><meta charset='UTF-8'>";
  html += "<title>Smart Traffic Monitoring</title>";
  html += "<style>";
  html += "body { font-family: Arial, sans-serif; ";
  html += "background-image: url('data:image/jpeg;base64,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'); "; // Example image URL
  html += "background-repeat: no-repeat; background-position: top center;";
  html += "background-size: contain; padding-top: 150px; background-color: #eef; text-align: center; }";
  html += ".box { background-color: rgba(255,255,255,0.9); display: inline-block; padding: 30px;  margin:90px;";
  html += "border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }";
  html += "h1 { color: #333; font-size: 36px; }";
  html += "p { font-size: 24px; margin: 10px 0; }";
  html += ".status { font-weight: bold; font-size: 28px; color: ";
  html += (status == "Emergency") ? "red" : "green";
  html += "; }";
  html += "</style></head><body>";
  html += "<div class='box'>";
  html += "<h1>Smart Traffic Monitoring</h1>";
  html += "<p>Distance: <strong>" + String(distance) + " cm</strong></p>";
  html += "<p class='status'>Status: " + status + "</p>";
  html += "</div></body></html>";

  server.send(200, "text/html", html);
}
